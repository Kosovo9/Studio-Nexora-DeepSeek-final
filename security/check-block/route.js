"use strict";(()=>{var e={};e.id=556,e.ids=[556],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},43700:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>I,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>k,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>p,dynamic:()=>u});var o=t(49303),a=t(88716),c=t(60670),i=t(87070),n=t(85662);let u="force-dynamic";async function p(e){try{let r=e.nextUrl.searchParams.get("ip");if(!r)return i.NextResponse.json({error:"Missing IP parameter"},{status:400});let{data:t,error:s}=await n.O.from("security_logs").select("id, created_at").eq("ip_address",r).eq("blocked",!0).gte("created_at",new Date(Date.now()-864e5).toISOString()).limit(1).single();if(s&&"PGRST116"!==s.code)return console.error("Error checking IP block:",s),i.NextResponse.json({error:"Failed to check IP block status"},{status:500});return i.NextResponse.json({blocked:!!t})}catch(e){return console.error("Check block error:",e),i.NextResponse.json({error:"Internal server error",details:e.message},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/security/check-block/route",pathname:"/api/security/check-block",filename:"route",bundlePath:"app/api/security/check-block/route"},resolvedPagePath:"C:\\estudio-nexora-comet\\app\\api\\security\\check-block\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:k}=d,I="/api/security/check-block/route";function h(){return(0,c.patchFetch)({serverHooks:k,staticGenerationAsyncStorage:m})}},85662:(e,r,t)=>{t.d(r,{O:()=>s});let s=(0,t(76429).eI)("https://mdngrazjggsunpvtwbam.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kbmdyYXpqZ2dzdW5wdnR3YmFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NjMyMDQsImV4cCI6MjA3ODEzOTIwNH0.EZD2ujsGnwUtz8rafZHOe8vDMOdoOcNYx8kBClqQxWs")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2510,6628],()=>t(43700));module.exports=s})();