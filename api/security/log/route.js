"use strict";(()=>{var e={};e.id=9490,e.ids=[9490],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},58400:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>I,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{POST:()=>d});var i=t(49303),o=t(88716),n=t(60670),a=t(87070),u=t(85662);async function d(e){try{let{identifier:r,ip:t,userAgent:s,reason:i,metadata:o,timestamp:n}=await e.json();if(!r||!i)return a.NextResponse.json({error:"Missing required fields: identifier, reason"},{status:400});let{data:d,error:c}=await u.O.from("security_logs").insert({identifier:r,ip_address:t,user_agent:s,reason:i,metadata:o||{},blocked:i.includes("blocked")||i.includes("rate_limit"),created_at:n||new Date().toISOString()}).select("id").single();if(c)return console.error("Error logging security event:",c),a.NextResponse.json({error:"Failed to log security event"},{status:500});return a.NextResponse.json({success:!0,logId:d.id})}catch(e){return console.error("Security log error:",e),a.NextResponse.json({error:"Internal server error",details:e.message},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/security/log/route",pathname:"/api/security/log",filename:"route",bundlePath:"app/api/security/log/route"},resolvedPagePath:"C:\\estudio-nexora-comet\\app\\api\\security\\log\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:g}=c,m="/api/security/log/route";function I(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},85662:(e,r,t)=>{t.d(r,{O:()=>s});let s=(0,t(76429).eI)("https://mdngrazjggsunpvtwbam.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kbmdyYXpqZ2dzdW5wdnR3YmFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NjMyMDQsImV4cCI6MjA3ODEzOTIwNH0.EZD2ujsGnwUtz8rafZHOe8vDMOdoOcNYx8kBClqQxWs")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2510,6628],()=>t(58400));module.exports=s})();