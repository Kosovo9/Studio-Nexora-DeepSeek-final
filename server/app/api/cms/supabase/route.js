"use strict";(()=>{var e={};e.id=3732,e.ids=[3732],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},16404:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>I,patchFetch:()=>b,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>u});var a=r(49303),n=r(88716),o=r(60670),i=r(87070),p=r(85662);async function u(e){try{let{table:t,filters:r}=await e.json();if(!t)return i.NextResponse.json({error:"Missing table"},{status:400});let s=p.O.from(t).select("*");r&&Object.entries(r).forEach(([e,t])=>{null!=t&&(s=s.eq(e,t))});let{data:a,error:n}=await s.order("created_at",{ascending:!1});if(n)return console.error("Supabase CMS error:",n),i.NextResponse.json({error:"Failed to fetch content",details:n.message},{status:500});let o=(a||[]).map(e=>({id:e.id,title:e.title||e.name||"Untitled",content:e.content||e.body||e.description||"",type:e.type||e.category||"page",metadata:e,createdAt:e.created_at,updatedAt:e.updated_at}));return i.NextResponse.json({results:o})}catch(e){return console.error("Supabase CMS error:",e),i.NextResponse.json({error:"Internal server error",details:e.message},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/cms/supabase/route",pathname:"/api/cms/supabase",filename:"route",bundlePath:"app/api/cms/supabase/route"},resolvedPagePath:"C:\\estudio-nexora-comet\\app\\api\\cms\\supabase\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=d,I="/api/cms/supabase/route";function b(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},85662:(e,t,r)=>{r.d(t,{O:()=>s});let s=(0,r(76429).eI)("https://mdngrazjggsunpvtwbam.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kbmdyYXpqZ2dzdW5wdnR3YmFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NjMyMDQsImV4cCI6MjA3ODEzOTIwNH0.EZD2ujsGnwUtz8rafZHOe8vDMOdoOcNYx8kBClqQxWs")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[2510,6628],()=>r(16404));module.exports=s})();