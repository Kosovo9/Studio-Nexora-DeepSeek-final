"use strict";(()=>{var e={};e.id=9516,e.ids=[9516],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32081:e=>{e.exports=require("child_process")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},73837:e=>{e.exports=require("util")},52449:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>v,requestAsyncStorage:()=>S,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>y});var s={};r.r(s),r.d(s,{POST:()=>x});var o=r(49303),i=r(88716),a=r(60670),n=r(87070),u=r(32081),c=r(73837),p=r(57147),d=r.n(p),l=r(71017),m=r.n(l);let h=(0,c.promisify)(u.exec);async function x(){try{let e=process.env.NEXT_PUBLIC_APP_URL||"https://studio-nexora.com",t=m().join(process.cwd(),"seo-lh-temp.json"),r=`npx lighthouse "${e}" --output json --output-path "${t}" --chrome-flags="--headless" --only-categories=seo,accessibility,performance --quiet`;await h(r);let s=JSON.parse(d().readFileSync(t,"utf8")),o=Math.round(100*(s.categories?.seo?.score||0)),i=Math.round(100*(s.categories?.accessibility?.score||0)),a=Math.round(100*(s.categories?.performance?.score||0));if(o<90){let t=m().join(process.cwd(),"seo-alerts.json"),r=[];d().existsSync(t)&&(r=JSON.parse(d().readFileSync(t,"utf8"))),r.push({date:new Date().toISOString(),seoScore:o,accessibilityScore:i,performanceScore:a,url:e,threshold:90}),d().writeFileSync(t,JSON.stringify(r,null,2))}return d().existsSync(t)&&d().unlinkSync(t),n.NextResponse.json({success:!0,seoScore:o,accessibilityScore:i,performanceScore:a,message:"SEO audit completed successfully"})}catch(e){return console.error("Error running SEO audit:",e),n.NextResponse.json({success:!1,error:e.message||"Failed to run SEO audit"},{status:500})}}let g=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/seo/audit/route",pathname:"/api/admin/seo/audit",filename:"route",bundlePath:"app/api/admin/seo/audit/route"},resolvedPagePath:"C:\\estudio-nexora-comet\\app\\api\\admin\\seo\\audit\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:S,staticGenerationAsyncStorage:y,serverHooks:f}=g,j="/api/admin/seo/audit/route";function v(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:y})}},49303:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[2510],()=>r(52449));module.exports=s})();